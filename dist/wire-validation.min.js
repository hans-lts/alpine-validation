!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(){Livewire.hook("message.processed",((e,r)=>{let o=Alpine.$data(r.el);o.processValidation&&o.processValidation(e.response.serverMemo.errors)}))}function r(){Livewire.hook("commit",(({component:e,commit:r,respond:o,succeed:t,fail:i})=>{t((({snapshot:r,effect:o})=>{let t=Alpine.$data(e.el);t.processValidation&&t.processValidation(JSON.parse(r).memo.errors)}))}))}function o(o){void 0!==Livewire.components?.hooks?e():r(),o.directive("wire-errors",((e,{modifiers:r},{Alpine:o})=>{!function(e,r){r.bind(e,{"x-data":()=>({errors:[],models:[],errorsFor(e){if(!e){let e=[];for(let r of this.models)e.push(...this.errors[r]);return e}if(e.includes("*")){let r=this.wildcardModelSearch(e),o=[];for(let e of r)o.push(...this.errors[e]);return o}return this.errors[e]??[]},firstErrorFor(e){return this.errorsFor(e)[0]},hasErrors(e){return this.errorsFor(e).length>0??!1},processValidation(e){this.errors=e,this.models=Object.keys(e)},wildcardModelSearch(e){let r=new RegExp(e.replaceAll("*",".*"));return this.models.filter((e=>r.test(e)))}})})}(e,o)})).before("bind"),o.magic("componentErrors",((e,{Alpine:r})=>(e,o)=>{let t=document.getElementById(e);if(!t)return console.warn(`Element ${e} not found`),[];let i=r.$data(t);return i&&!i.$root.id!==e?i.errorsFor(o):(console.warn(`Element ${e} is not an AlpineJs component`),[])}))}document.addEventListener("alpine:init",(()=>{window.Alpine.plugin(o)}))}));
//# sourceMappingURL=wire-validation.min.js.map
